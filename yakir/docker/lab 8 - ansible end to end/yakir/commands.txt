ssh-keygen -R "[localhost]:2222"

docker run -d --name ansible-slave -p 2222:22 alpine:latest sleep infinity

docker exec -it ansible-slave sh

apk add openssh
apk add nano
apk add python3

ssh-keygen -A

/usr/sbin/sshd -D

adduser ansible

exit

docker exec -it ansible-slave su - ansible

ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N ""

docker cp ansible-slave:/home/ansible/.ssh/id_rsa .

ssh -i .\id_rsa -p 2222 ansible@localhost

----

docker run -d --name ansible-master alpine:latest sleep infinity   

docker> docker exec -it ansible-master sh

apk add openssh
apk add nano

docker cp .\id_rsa ansible-master:/  

ssh -i id_rsa ansible@172.17.0.2

----

apk add ansible

ansible --version

nano inventory.ini

ansible -i inventory.ini slaves -m ping

172.17.0.2 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.12"
    },
    "changed": false,
    "ping": "pong"
}